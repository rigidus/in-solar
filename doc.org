#+STARTUP: showall indent hidestars

* Disclaimer

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ –Ω–∞–±–æ—Ä –∑–∞–º–µ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–º–æ—á—å (–∞ –º–æ–≥—É—Ç –∏
–ø–æ–º–µ—à–∞—Ç—å) —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ö –ø—Ä–æ–µ–∫—Ç–∞ Insolar.

–û–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –¥–∞–∂–µ –ø—Ä—è–º—É—é –ª–æ–∂—å –≤
–æ—Ç–Ω–æ—à–µ–Ω–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π, –Ω–∞–º–µ—Ä–µ–Ω–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Å—Ä–æ–∫–æ–≤
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫.

–Ø –≤—ã–∫–ª–∞–¥—ã–≤–∞—é –µ–≥–æ –≤ —Å–≤–æ–π —á–∞—Å—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ü–µ–ª–µ–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ
—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –ª—é–±–æ–µ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–∏—Ü–æ –º–æ–≥–ª–æ –≤–Ω–æ—Å–∏—Ç—å —Å–≤–æ–∏
—É—Ç–æ—á–Ω–µ–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏.

–í—Å–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –º–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –ø–æ–∑–∏—Ü–∏–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ Insolar –∏ —è–≤–ª—è–µ—Ç—Å—è
—á–∞—Å—Ç–Ω—ã–º –º–Ω–µ–Ω–∏–µ–º (–∏–ª–∏ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ–º) –∞–≤—Ç–æ—Ä–∞ –∏/–∏–ª–∏ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤

* Overview
** Structure

–ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç Insolar - —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π, –∫–∞–∂–¥—É—é –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ
—Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å.

- Platform Core
  - Network
    - Infrastructure Layer
    - Nodes (with Roles)
    - Pulses
    - Consensus (Optimized BFT)
  - Ledger
    - LightMaterial
    - HeavyMaterial
    - Lifelines / sidelines - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø–∏—Å–µ–π, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö
      —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è —É–º–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏
    - jets / jet drops - –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –µ–¥–∏–Ω–∏—Ü—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑ lifelines
    - short/long term storage (for jets)
  - VM
  - Contracts
  - Request
  - Platform API
    - Smart Contracts API
    - Business Logic API
    - Observer API
  - Observer
- Business Foundations
  - Domains (supercontract)
    - Domain Rules
  - Toolkuts
- Applications
- External Services

** –ü—Ä–∏–Ω—Ü–∏–ø—ã

- Everything is SmartContract
- One Executor - Many Validators
- Dynamic consensus: separation of network (nodes) and business
  (contracts) consensuses
- Use different blockchain styles to fit for purpose: one object-one
  chain for object‚Äôs lifeline and sidelines, sharded chains for block
  building, block-based chains for storage units
- Different roles (players) in the Insolar Ecosystem: resource providers,
  application developers, application consumers, Insolar
  Foundation. Different incentives & staking & liabilities

* –° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –æ–±—ä—è—Å–Ω—è—Ç—å
** –° –∫–µ–π—Å–æ–≤
*** CANCEL Delivery

~–ö–ª–∏–µ–Ω—Ç~ —Ö–æ—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∏—Ç—å –≥—Ä—É–∑ ~–ü–æ–ª—É—á–∞—Ç–µ–ª—é~. –î–ª—è —ç—Ç–æ–≥–æ ~–ö–ª–∏–µ–Ω—Ç~ –æ–±—Ä–∞—â–∞—Ç—Å—è
–∫ ~–ü–æ—Å—Ä–µ–¥–Ω–∏–∫—É~, –∫–æ—Ç–æ—Ä—ã–π –∞–≥–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç ~–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤~ –∏
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö ~–ö–ª–∏–µ–Ω—Ç—É~.

~–ö–ª–∏–µ–Ω—Ç~ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (–∏–ª–∏ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç –≤—ã–±–æ—Ä–∞ - —Ç–æ–≥–¥–∞ –Ω–∞ —ç—Ç–æ–º
–≤—Å–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è) –∏ –∑–∞–∫–ª—é—á–∞–µ—Ç —Å–¥–µ–ª–∫—É. –¢–µ–ø–µ—Ä—å —É ~–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞~ –µ—Å—Ç—å
–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —É—Å–ª–æ–≤–∏—è —Å–¥–µ–ª–∫–∏: –¥–æ—Å—Ç–∞–≤–∏—Ç—å ~–ì—Ä—É–∑~ ~–ü–æ–ª—É—á–∞—Ç–µ–ª—é~.

–û—Ç—Å—é–¥–∞ –≤–æ–∑–º–æ–∂–Ω—ã —Ä–∞–∑–≤–∏–ª–∫–∏
- (happy-case) ~–ü–æ–ª—É—á–∞—Ç–µ–ª—å~ –ø–æ–¥—Ç–≤–µ—Ä–∂–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ ~–ì—Ä—É–∑–∞~. –°—Ç–æ—Ä–æ–Ω—ã
  –ø–æ–ª—É—á–∞—é—Ç —Å–≤–æ–∏ fees.
- ~–ö–ª–∏–µ–Ω—Ç~ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç —Å–¥–µ–ª–∫–∏. –¢—É—Ç –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫–∏–µ-—Ç–æ —à—Ç—Ä–∞—Ñ—ã
- ~–ü–æ–ª—É—á–∞—Ç–µ–ª—å~ –Ω–µ–¥–æ–≤–æ–ª–µ–Ω –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Å–¥–µ–ª–∫–∏. ~–ì—Ä—É–∑~ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω –∏–ª–∏ –Ω–µ
  –¥–æ—Å—Ç–∞–≤–ª–µ–Ω - –∫–∞–∫ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ—à–µ–Ω–∏–µ —Å–ø–æ—Ä–∞?
- –ò—Å—Ç–µ–∫ —Ç–∞–π–º-–∞—É—Ç. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≥—Ä—É–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω —Å–∫–æ—Ä–µ–µ
  –≤—Å–µ–≥–æ)

[COMMENT:gmm] - –ö–∏—Ä–∏–ª–∞ —Å–∫–∞–∑–∞–ª —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ, –Ω–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–≥–æ
–ø–∏–Ω–≥-–ø–æ–Ω–≥–∞

*** PinPong


*** Transfer

–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–µ–Ω–µ–≥ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥
–æ–Ω –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∫–æ—à–µ–ª—å–∫—É (~Wallet~), –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–µ–± –∏–ª–∏ –º–æ–±–∏–ª—å–Ω—ã–º
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –Ω—É–∂–Ω–æ:
- PrivKey
- Addr From
- Addr To

Wallet –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ —á–µ—Ä–µ–∑ API, —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ~Request~? –ù–∞
—Å–∞–º–æ–º –¥–µ–ª–µ –æ–Ω –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –æ–¥–Ω–æ–π –∏–∑ ~Node~ —Å —Ä–æ–ª—å—é
~Virtual~. –¢–æ–≥–¥–∞ –∫–∞–∫ –æ–Ω –∏—Ö –ø–æ–ª—É—á–∞–µ—Ç, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏ —Ç –ø?

~Node~ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç ~Request~ –∫—É–¥–∞?

** –° –æ–±—Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–∞–±–æ—Ä–∞ –Ω–æ–¥)
*** Collector
*** DB
*** API
** –î–∞–ª—å—à–µ –º–æ–∂–Ω–æ –ø—Ä–æ —Ä–æ–ª–∏ –Ω–æ–¥ (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)

–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –º–∞–π–Ω–µ—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω Heavy. –û—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–∫–æ–ª—å–∫–æ
—É–≥–æ–¥–Ω–æ, –Ω–æ —É –Ω–∞—Å –ø–æ–∫–∞ –ø–æ –ø—è—Ç—å

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–æ–ª–∏:
- Virtual (SmartContract Executor)
- LM
- HS
- Pulse

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–æ–ª–∏
- Executor
- Validator

–ü–æ insolar-addr –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è Virtual Executor (VE) –≤—ã–±–∏—Ä–∞–µ–º—ã–π –∏–∑
ActiveList (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π). ActiveList –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—É–ª—å—Å–∞ - –æ–Ω —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
–Ω–∞ –∫–∞–∂–¥o–º –ø—É–ª—å—Å–µ.

–ü—É–ª—å—Å —Ä–∞—Å—Å—ã–ª–∞–µ—Ç—Å—è –≤—Å–µ–º —Å–æ—Å–µ–¥—è–º

–û—Ç—Å—é–¥–∞ –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–±—ä—è—Å–Ω–µ–Ω–∏—é –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞, –Ω–æ —Å–Ω–∞—á–∞–ª–∞:

** What is insolar-addr
** What is pulse

10 second —Ç–∞–π–º—Å–ª–æ—Ç—ã

–ù–∞ –∫–∞–∂–¥–æ–º –ø—É–ª—å—Å–µ:
- –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —ç–Ω—Ç—Ä–æ–ø–∏—è

*** –°–º–µ–Ω–∞ –ø—É–ª—å—Å–∞

–í—Å–µ —Å–ª–æ–∂–Ω–æ

Jet-drops

** Consensus

4 —Ñ–∞–∑—ã

** Discovery

–ù–∞ —Å–µ—Ç–µ–≤–æ–º —É—Ä–æ–≤–Ω–µ

–°–ø–∏—Å–æ–∫ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ –∫–æ–¥–µ –Ω–æ–¥—ã

–ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤ - —á–µ—Ä–µ–∑ –¥–∏—Å–∫–∞–≤–µ—Ä–∏
–ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–¥ - –æ–Ω–∞ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ø—É–ª—å—Å –∏–ª–∏
—É–±–∏–≤–∞–µ—Ç—Å—è –∑–∞ –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–µ—â–µ –≤–æ–∑–º–æ–∂–Ω—ã —Å—Ü–µ–Ω–∞—Ä–∏–∏)

** Jet

–ü—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ 2^64 –∞–¥—Ä–µ—Å–æ–≤
–ï—Å–ª–∏ LME –≤–∏–¥–∏—Ç —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, —Ç–æ –º—ã –¥–µ–ª–∏–º —ç—Ç–∏
–¥–∞–Ω–Ω—ã–µ –ø–æ–ø–æ–ª–∞–º - —ç—Ç–æ Jet.

** –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
** –†–µ–∫–≤–µ—Å—Ç

2 —Å–ø–æ—Å–æ–±–∞ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–≤–µ—Å—Ç

- –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∞–ø–∏ - –∑–∞–ø—Ä–æ—Å –∫ –∫–æ—à–µ–ª—å–∫—É
- –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥ - –æ—Ç –æ–¥–Ω–æ–π –Ω–æ–¥—ã –∫ –¥—Ä—É–≥–æ–π –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
  –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–†–µ–∫–≤–µ—Å—Ç—ã —Å–µ–π–≤—è—Ç—Å—è, –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è. –ï—Å–ª–∏ —Ä–µ–∫–≤–µ—Å—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è, —Ç–æ –µ–≥–æ
–¥–æ–≤—ã–ø–æ–ª–Ω—è—Ç –ø—Ä–∏ —ç—Ç–æ–º –ø–æ—Ä—è–¥–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º

** –°–º–∞—Ä—Ç–∫–æ–Ω—Ç—Ä–∞–∫—Ç

—ç—Ç–æ Go-–∫–ª–∞—Å—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –ø–æ–ª—è, –∏ —ç—Ç–∏ –ø–æ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ –∫–∞–∫
—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π - –µ–≥–æ –≤–µ—Ä—à–∏–Ω–∞ - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

** –ú–µ—Ö–∞–Ω–∏–∑–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏

—Å–µ–π—á–∞—Å –Ω–µ—Ç.

** –ö–æ–Ω–≤–µ–π—Ä (1)

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –ø–ª–∞–Ω—Ç–£–ú–õ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω
–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫–æ–≤

–Ω—É –∏ —Å–æ–æ—Ç–≤ –Ω–∞–¥–æ –±—É–¥–µ—Ç –≤ —ç—Ç–æ–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∏ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫
—Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —á—Ç–æ–±—ã –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –≤
–∫–æ–¥–µ

–Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π
–∏ –Ω–µ –Ω–∞–¥–æ –±—ã–ª–æ —Ä—É–∫–∞–º–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å
–∞ –≤ –∏–¥–µ–∞–ª–µ - –µ—Å–ª–∏ –µ—â—ë –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞ state
machine's –∏ –ø–æ –Ω–µ–º—É —Ä–∏—Å–æ–≤–∞—Ç—å PlantUml –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

–∫–∞–∫ –¥–æ –∫–æ–¥–∞ –¥–æ–±–µ—Ä—ë—à—å—Å—è - —Ä–∞—Å—Å–∫–∞–∂—É —Å—É—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤ —ç—Ç–æ–º –∫—É—Å–∫–µ, –∏ –Ω–∞
–∫–æ–π —á—ë—Ä—Ç –æ–Ω –Ω—É–∂–µ–Ω

** –§–∏–ª–∞–º–µ–Ω—Ç—ã

–û–±—ä–µ–∫—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ J–µtDrop

* –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–æ–¥–∞

#+BEGIN_SRC sh
  + export INSOLAR_LOG_FORMATTER=
  + INSOLAR_LOG_FORMATTER=
  + export INSOLAR_LOG_LEVEL=debug
  + INSOLAR_LOG_LEVEL=debug
  discovery+other nodes: 5+0
  check_working_dir() starts ...
  check_working_dir() end.
  bootstrap start
  prepare() starts ...
  stop_listening(): starts ...
  stop_listening(): stop insgorund
  grep: .artifacts/launchnet/bootstrap.yaml: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
  grep: .artifacts/launchnet/keeperd.yaml: –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
  killing process using port '58090'
  stop_listening() end.
  clear_dirs() starts ...
  + rm -rfv .artifacts/launchnet/discoverynodes/
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/discoverynodes/certs'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/discoverynodes/'
  + rm -rfv .artifacts/launchnet/logs/
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/insgorund'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/discoverynodes/4'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/discoverynodes/2'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/discoverynodes/5'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/discoverynodes/1'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/discoverynodes/3'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/discoverynodes'
  —É–¥–∞–ª–µ–Ω –∫–∞—Ç–∞–ª–æ–≥ '.artifacts/launchnet/logs/'
  + rm -rfv .artifacts/launchnet/contracts
  + rm -rfv .artifacts/launchnet/logs/discoverynodes/1
  + rm -rfv .artifacts/launchnet/logs/discoverynodes/2
  + rm -rfv .artifacts/launchnet/logs/discoverynodes/3
  + rm -rfv .artifacts/launchnet/logs/discoverynodes/4
  + rm -rfv .artifacts/launchnet/logs/discoverynodes/5
  create_required_dirs() starts ...
  + mkdir -p .artifacts/launchnet/discoverynodes/certs
  + mkdir -p .artifacts/launchnet/configs/
  + mkdir -p .artifacts/launchnet/logs/insgorund/
  + touch .artifacts/launchnet/configs/insgorund_ports.txt
  + mkdir -p .artifacts/launchnet/logs/discoverynodes/1
  + mkdir -p .artifacts/launchnet/logs/discoverynodes/2
  + mkdir -p .artifacts/launchnet/logs/discoverynodes/3
  + mkdir -p .artifacts/launchnet/logs/discoverynodes/4
  + mkdir -p .artifacts/launchnet/logs/discoverynodes/5
  create_required_dirs() end.
  prepare() end.
  build binaries
  + export BUILD_TAGS
  + make build
  mkdir -p bin
  go build -o bin/insolard -tags "debug functest" -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/insolard/*.go
  go build -o bin/insolar -tags "debug functest" -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" application/cmd/insolar/*.go
  go build -o bin/insgocc -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" application/cmd/insgocc/*.go
  go build -o bin/pulsard -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/pulsard/*.go
  go build -o bin/testpulsard -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/testpulsard/*.go
  CGO_ENABLED=1 go build -o bin/insgorund -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/insgorund/*.go
  go build -o bin/healthcheck -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/healthcheck/*.go
  go build -o bin/benchmark -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" application/cmd/benchmark/*.go
  go build -o bin/apirequester -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/apirequester/*.go
  go build -o bin/pulsewatcher -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/pulsewatcher/*.go
  go build -o bin/backupmanager -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/backupmanager/*.go
  go build -o bin/keeperd -ldflags "-X github.com/insolar/insolar/version.Version=v1.3.0-13-g63229f9de -X github.com/insolar/insolar/version.BuildNumber= -X github.com/insolar/insolar/version.BuildDate=2020-01-17 -X github.com/insolar/insolar/version.BuildTime=11:28:48 -X github.com/insolar/insolar/version.GitHash=63229f9de" cmd/keeperd/*.go
  go build -o bin/heavy-badger ./cmd/heavy-badger/
  generate pulsar keys: .artifacts/launchnet/configs/pulsar_keys.json
  generate members keys in dir: .artifacts/launchnet/configs/
  generate configs
  + go run -mod=vendor scripts/generate_insolar_configs.go -p .artifacts/launchnet/configs/insgorund_ports.txt
  generate_insolar_configs.go: creates dir .artifacts/launchnet
  generate_insolar_configs.go: write to file .artifacts/launchnet/bootstrap.yaml
  generate_insolar_configs.go: write to file .artifacts/launchnet/prometheus.yaml
  generate_insolar_configs.go: writeInsolardConfigs...
  generate_insolar_configs.go: creates dir .artifacts/launchnet/discoverynodes/1
  generate_insolar_configs.go: write to file .artifacts/launchnet/discoverynodes/1/insolard.yaml
  generate_insolar_configs.go: creates dir .artifacts/launchnet/discoverynodes/2
  generate_insolar_configs.go: write to file .artifacts/launchnet/discoverynodes/2/insolard.yaml
  generate_insolar_configs.go: creates dir .artifacts/launchnet/discoverynodes/3
  generate_insolar_configs.go: write to file .artifacts/launchnet/discoverynodes/3/insolard.yaml
  generate_insolar_configs.go: creates dir .artifacts/launchnet/discoverynodes/4
  generate_insolar_configs.go: write to file .artifacts/launchnet/discoverynodes/4/insolard.yaml
  generate_insolar_configs.go: creates dir .artifacts/launchnet/discoverynodes/5
  generate_insolar_configs.go: write to file .artifacts/launchnet/discoverynodes/5/insolard.yaml
  generate_insolar_configs.go: writeInsolardConfigs...
  generate_insolar_configs.go: write to file .artifacts/launchnet/configs/insgorund_ports.txt
  generate_insolar_configs.go: write to file .artifacts/launchnet/pulsar.yaml
  generate_insolar_configs.go: write to file .artifacts/launchnet/keeperd.yaml
  generate_insolar_configs.go: creates dir .artifacts/launchnet
  generate_insolar_configs.go: write to file .artifacts/launchnet/pulsewatcher.yaml
  generate migration addresses: .artifacts/launchnet/configs/migration_addresses.json
  start bootstrap ...
  + bin/insolar bootstrap --config=.artifacts/launchnet/bootstrap.yaml --certificates-out-dir=.artifacts/launchnet/discoverynodes/certs
  + GENESIS_EXIT_CODE=0
  bootstrap log: .artifacts/launchnet/logs/bootstrap.log
  bootstrap is done
  copy_certs() starts ...
  + cp -v .artifacts/launchnet/discoverynodes/certs/discovery_cert_1.json .artifacts/launchnet/discoverynodes/1/cert.json
  '.artifacts/launchnet/discoverynodes/certs/discovery_cert_1.json' -> '.artifacts/launchnet/discoverynodes/1/cert.json'
  + cp -v .artifacts/launchnet/discoverynodes/certs/discovery_cert_2.json .artifacts/launchnet/discoverynodes/2/cert.json
  '.artifacts/launchnet/discoverynodes/certs/discovery_cert_2.json' -> '.artifacts/launchnet/discoverynodes/2/cert.json'
  + cp -v .artifacts/launchnet/discoverynodes/certs/discovery_cert_3.json .artifacts/launchnet/discoverynodes/3/cert.json
  '.artifacts/launchnet/discoverynodes/certs/discovery_cert_3.json' -> '.artifacts/launchnet/discoverynodes/3/cert.json'
  + cp -v .artifacts/launchnet/discoverynodes/certs/discovery_cert_4.json .artifacts/launchnet/discoverynodes/4/cert.json
  '.artifacts/launchnet/discoverynodes/certs/discovery_cert_4.json' -> '.artifacts/launchnet/discoverynodes/4/cert.json'
  + cp -v .artifacts/launchnet/discoverynodes/certs/discovery_cert_5.json .artifacts/launchnet/discoverynodes/5/cert.json
  '.artifacts/launchnet/discoverynodes/certs/discovery_cert_5.json' -> '.artifacts/launchnet/discoverynodes/5/cert.json'
  copy_certs() end.
  kill all processes: insgorund, insolard, pulsard
  insgorund: –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
  insolard: –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
  pulsard: –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
  start pulsar ...
     log: .artifacts/launchnet/logs/pulsar_output.log
  + mkdir -p .artifacts/launchnet/pulsar_data
  pulsar log: .artifacts/launchnet/logs/pulsar_output.log
  + bin/pulsard -c .artifacts/launchnet/pulsar.yaml
  launch_keeperd() starts ...
  launch_keeperd() end.
  start insgorund ...
  start heavy node
  heavy node started in background
  log: .artifacts/launchnet/logs/discoverynodes/1/output.log
  start discovery nodes ...
  + tee .artifacts/launchnet/logs/discoverynodes/1/output.log
  + bin/insolard --config .artifacts/launchnet/discoverynodes/1/insolard.yaml --heavy-genesis .artifacts/launchnet/configs/heavy_genesis.json
  [1]   –ó–∞–ø—É—â–µ–Ω          ${PULSARD} -c ${PULSAR_CONFIG} &> ${LAUNCHNET_LOGS_DIR}pulsar_output.log &
  [2]   –ó–∞–ø—É—â–µ–Ω          ${KEEPERD} --config=${KEEPERD_CONFIG} &> ${KEEPERD_LOG} &
  [3]   –ó–∞–ø—É—â–µ–Ω          ${INSGORUND} -l ${host}:${listen_port} --rpc ${host}:${rpc_port} --log-level=${GORUND_LOG_LEVEL} --metrics :${metrics_port} &> ${INSGORUND_LOGS}${rpc_port}.log &
  [4]-  –ó–∞–ø—É—â–µ–Ω          ${INSGORUND} -l ${host}:${listen_port} --rpc ${host}:${rpc_port} --log-level=${GORUND_LOG_LEVEL} --metrics :${metrics_port} &> ${INSGORUND_LOGS}${rpc_port}.log &
  [5]+  –ó–∞–ø—É—â–µ–Ω          $INSOLARD --config ${DISCOVERY_NODES_DATA}1/insolard.yaml --heavy-genesis ${HEAVY_GENESIS_CONFIG_FILE} 2>&1 | ${LOGROTATOR} ${DISCOVERY_NODE_LOGS}1/output.log > /dev/null &
  someone left the network
  discovery node 2 started in background
  log: .artifacts/launchnet/logs/discoverynodes/2/output.log
  + bin/insolard --config .artifacts/launchnet/discoverynodes/2/insolard.yaml
  + tee .artifacts/launchnet/logs/discoverynodes/2/output.log
  discovery node 3 started in background
  log: .artifacts/launchnet/logs/discoverynodes/3/output.log
  + tee .artifacts/launchnet/logs/discoverynodes/3/output.log
  discovery node 4 started in background
  log: .artifacts/launchnet/logs/discoverynodes/4/output.log
  + bin/insolard --config .artifacts/launchnet/discoverynodes/3/insolard.yaml
  discovery node 5 started in background
  log: .artifacts/launchnet/logs/discoverynodes/5/output.log
  + tee .artifacts/launchnet/logs/discoverynodes/4/output.log
  discovery nodes started ...
  starting pulse watcher...
  bin/pulsewatcher -c .artifacts/launchnet/pulsewatcher.yaml
  + bin/insolard --config .artifacts/launchnet/discoverynodes/4/insolard.yaml
  + tee .artifacts/launchnet/logs/discoverynodes/5/output.log
  + bin/insolard --config .artifacts/launchnet/discoverynodes/5/insolard.yaml

     URL   |        STATE         |       ID       | NETWORK PULSE |     PULSE     |    ACTIVE    | WORKING |      ROLE       |    TIMESTAMP    | UPTIME | ERROR
  +--------+----------------------+----------------+---------------+---------------+--------------+---------+-----------------+-----------------+--------+-------+
    :19001 | CompleteNetworkState |  üòà 992962443  |      33020724 |      33020724 | 5 ‚öΩüèÄüòÜüòÄüòà |       5 | Heavy           | 13:13:17.378508 | 49m30s |
    :19002 | CompleteNetworkState |  ‚öΩ 3309296920 |      33020724 |      33020724 | 5 ‚öΩüèÄüòÜüòÄüòà |       5 | Virtual         | 13:13:17.378548 | 49m30s |
    :19003 | CompleteNetworkState |  üòÄ 114004987  |      33020724 |      33020724 | 5 ‚öΩüèÄüòÜüòÄüòà |       5 | Light           | 13:13:17.378511 | 49m30s |
    :19004 | CompleteNetworkState |  üèÄ 1505477843 |      33020724 |      33020724 | 5 ‚öΩüèÄüòÜüòÄüòà |       5 | Virtual         | 13:13:17.378509 | 49m30s |
    :19005 | CompleteNetworkState |  üòÜ 1846903875 |      33020724 |      33020724 | 5 ‚öΩüèÄüòÜüòÄüòà |       5 | Light           | 13:13:17.378508 | 49m30s |
  +--------+----------------------+----------------+---------------+---------------+--------------+---------+-----------------+-----------------+--------+-------+
                                                                     INSOLAR STATE |    READY     |  TIME   | 13:13:17.379047 | INSOLAR UPTIME  | 49M30S |
                                                                   +---------------+--------------+---------+-----------------+-----------------+--------+-------+
  ^Cstop_listening(): starts ...
  stop_listening(): stop insgorund
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 126: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 127: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 126: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 127: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 132: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 136: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 137: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 117: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '58090'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '58090'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '33305'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing pid 7805 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 98: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '33306'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing pid 7834 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 98: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '33327'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing pid 7824 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 98: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '33328'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing pid 7838 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 98: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '7805'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  killing process using port '7824'
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 97: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 95: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  stop_listening() end.
  kill all processes: insgorund, insolard, pulsard
  insgorund: –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 107: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 107: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  scripts/insolard/launchnet.sh: —Å—Ç—Ä–æ–∫–∞ 107: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: run_pending_traps: –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ trap_list[17]: 0x559db1372870
  FINISHING ...
  stop_listening(): starts ...
  stop_listening(): stop insgorund
  [1]   –ó–∞–≤–µ—Ä—à—ë–Ω        ${PULSARD} -c ${PULSAR_CONFIG} &> ${LAUNCHNET_LOGS_DIR}pulsar_output.log
  [3]   –ó–∞–≤–µ—Ä—à—ë–Ω        ${INSGORUND} -l ${host}:${listen_port} --rpc ${host}:${rpc_port} --log-level=${GORUND_LOG_LEVEL} --metrics :${metrics_port} &> ${INSGORUND_LOGS}${rpc_port}.log
  [4]   –ó–∞–≤–µ—Ä—à—ë–Ω        ${INSGORUND} -l ${host}:${listen_port} --rpc ${host}:${rpc_port} --log-level=${GORUND_LOG_LEVEL} --metrics :${metrics_port} &> ${INSGORUND_LOGS}${rpc_port}.log
  [6]   –ó–∞–ø—É—â–µ–Ω          $INSOLARD --config ${DISCOVERY_NODES_DATA}${i}/insolard.yaml 2>&1 | ${LOGROTATOR} ${DISCOVERY_NODE_LOGS}${i}/output.log > /dev/null &
  [7]   –ó–∞–≤–µ—Ä—à—ë–Ω        $INSOLARD --config ${DISCOVERY_NODES_DATA}${i}/insolard.yaml 2>&1 | ${LOGROTATOR} ${DISCOVERY_NODE_LOGS}${i}/output.log > /dev/null
  [8]-  –ó–∞–ø—É—â–µ–Ω          $INSOLARD --config ${DISCOVERY_NODES_DATA}${i}/insolard.yaml 2>&1 | ${LOGROTATOR} ${DISCOVERY_NODE_LOGS}${i}/output.log > /dev/null &
  [9]+  –ó–∞–≤–µ—Ä—à—ë–Ω        $INSOLARD --config ${DISCOVERY_NODES_DATA}${i}/insolard.yaml 2>&1 | ${LOGROTATOR} ${DISCOVERY_NODE_LOGS}${i}/output.log > /dev/null
  someone left the network
  someone left the network
  someone left the network
  someone left the network
  someone left the network
  someone left the network
  someone left the network
  someone left the network
  killing process using port '58090'
  someone left the network
  killing process using port '58090'
  someone left the network
  killing process using port '33305'
  someone left the network
  killing process using port '33306'
  someone left the network
  killing pid 7834 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  someone left the network
  killing process using port '33327'
  [5]   –ó–∞–≤–µ—Ä—à—ë–Ω        $INSOLARD --config ${DISCOVERY_NODES_DATA}1/insolard.yaml --heavy-genesis ${HEAVY_GENESIS_CONFIG_FILE} 2>&1 | ${LOGROTATOR} ${DISCOVERY_NODE_LOGS}1/output.log > /dev/null
  someone left the network
  someone left the network
  someone left the network
  killing process using port '33328'
  someone left the network
  killing pid 7838 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  someone left the network
  killing process using port '7805'
  someone left the network
  killing process using port '7824'
  someone left the network
  killing process using port '58090'
  someone left the network
  killing process using port '33305'
  someone left the network
  killing process using port '33306'
  someone left the network
  killing pid 7834 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  someone left the network
  killing process using port '33327'
  someone left the network
  killing process using port '33328'
  someone left the network
  killing pid 7838 at –ü—Ç —è–Ω–≤ 17 13:13:18 MSK 2020
  someone left the network
  stop_listening() end.
  kill all processes: insgorund, insolard, pulsard
  insgorund: –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
  someone left the network
  someone left the network
  pulsard: –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
  someone left the network
#+END_SRC
* –ú–æ–∏ –∑–∞–¥–∞—á–∏
** –°–æ–±—Ä–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É—è GoDoc
** –°–æ–±—Ä–∞—Ç—å PlantUML –¥–∏–∞–≥—Ä–∞–º–º—ã –∏—Å–ø–æ–ª—å–∑—É—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
* –ß—Ç–æ –¥–µ–ª–∞—Ç—å
** DONE –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GoModules –≤ GoLand

File->Settings->GoModules->EnableGoModules(vgo)Integration:=true

** DONE –ù–∞—Å—Ç—Ä–æ–∏—Ç—å go-mode –≤ emacs
** –ó–∞–ø—É—Å–∫–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã

–ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –ø—Ä—è–º–æ –∏–∑ GoLand –Ω–æ –Ω–∞–¥–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∫–∞–∫ –æ–Ω–∏
—Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ CLI

** –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–≥–µ—Ä

–î–æ–±–∞–≤–∏—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –≤ ~/conveyer/smashine/main.go~.

–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ä–µ–¥—É(?)

–ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π diff –¥–ª—è go.mod (—ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ .gitignore):

#+BEGIN_SRC
  diff --git a/ledger-core/v2/go.mod b/ledger-core/v2/go.mod
  index 9754299..ab17280 100644
  --- a/ledger-core/v2/go.mod
  +++ b/ledger-core/v2/go.mod
  @@ -4,11 +4,8 @@ go 1.12

   require (
          contrib.go.opencensus.io/exporter/prometheus v0.1.0
  -       github.com/AndreasBriese/bbloom v0.0.0-20190825152654-46b345b51c96 // indirect
          github.com/ThreeDotsLabs/watermill v1.0.2
  -       github.com/beorn7/perks v1.0.1 // indirect
          github.com/cheggaaa/pb/v3 v3.0.1
  -       github.com/codahale/hdrhistogram v0.0.0-20161010025455-3a0bb77429bd // indirect
          github.com/dgraph-io/badger v1.6.0-rc1.0.20191024172150-efb9d9d15d7f
          github.com/dustin/go-humanize v1.0.0
          github.com/fortytw2/leaktest v1.3.0
  @@ -23,36 +20,24 @@ require (
          github.com/grpc-ecosystem/grpc-gateway v1.9.6
          github.com/hashicorp/golang-lru v0.5.3
          github.com/insolar/component-manager v0.2.1-0.20191028200619-751a91771d2f
  -       github.com/insolar/go-actors v0.0.0-20190805151516-2fcc7bfc8ff9 // indirect
  +       github.com/insolar/insolar v1.3.0 // indirect
          github.com/insolar/rpc v1.2.2-0.20190812143745-c27e1d218f1f
          github.com/insolar/x-crypto v0.0.0-20191031140942-75fab8a325f6
          github.com/jbenet/go-base58 v0.0.0-20150317085156-6237cf65f3a6
  -       github.com/kardianos/osext v0.0.0-20190222173326-2bc1f35cddc0 // indirect
  -       github.com/magiconair/properties v1.8.1 // indirect
  -       github.com/mattn/go-colorable v0.1.4 // indirect
  -       github.com/mattn/go-isatty v0.0.9 // indirect
          github.com/olekukonko/tablewriter v0.0.1
          github.com/onrik/gomerkle v1.0.0
          github.com/opentracing/opentracing-go v1.1.0
  -       github.com/pelletier/go-toml v1.4.0 // indirect
          github.com/pkg/errors v0.8.1
          github.com/prometheus/client_golang v1.0.0
  -       github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4 // indirect
  -       github.com/prometheus/common v0.6.0 // indirect
  -       github.com/prometheus/procfs v0.0.4 // indirect
          github.com/rs/zerolog v1.15.0
          github.com/satori/go.uuid v1.2.1-0.20181028125025-b2ce2384e17b
  -       github.com/spf13/afero v1.2.2 // indirect
          github.com/spf13/cobra v0.0.5
          github.com/spf13/jwalterweatherman v1.1.0
          github.com/spf13/pflag v1.0.3
          github.com/spf13/viper v1.4.0
          github.com/stretchr/testify v1.4.0
          github.com/tylerb/gls v0.0.0-20150407001822-e606233f194d
  -       github.com/tylerb/is v2.1.4+incompatible // indirect
  -       github.com/uber-go/atomic v1.4.0 // indirect
          github.com/uber/jaeger-client-go v2.19.0+incompatible
  -       github.com/uber/jaeger-lib v2.2.0+incompatible // indirect
          github.com/ugorji/go v1.1.4
          go.opencensus.io v0.22.0
          golang.org/x/crypto v0.0.0-20190820162420-60c769a6c586
  @@ -60,7 +45,6 @@ require (
          golang.org/x/sync v0.0.0-20190423024810-112230192c58
          golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456
          golang.org/x/tools v0.0.0-20190827205025-b29f5f60c37a
  -       gonum.org/v1/gonum v0.0.0-20191018104224-74cb7b153f2c // indirect
          google.golang.org/genproto v0.0.0-20190819201941-24fa4b261c55
          google.golang.org/grpc v1.21.0
          gopkg.in/yaml.v2 v2.2.7
#+END_SRC

#+BEGIN_SRC go
  sm := smachine.NewSlotMachine(smachine.SlotMachineConfig{
    SlotPageSize:         1000,
    PollingPeriod:        10 * time.Millisecond,
    PollingTruncate:      1 * time.Microsecond,
    BoostNewSlotDuration: 10 * time.Millisecond,
    ScanCountLimit:       scanCountLimit,
    SlotMachineLogger:    nil, // TODO put logger adapter here
  }, signal.NextBroadcast, signal.NextBroadcast, nil)
#+END_SRC

–õ–æ–≥–≥–µ—Ä –¥–∞—Å—Ç —Ç—Ä–∞—Å—Å—É —Ä–∞–±–æ—Ç—ã

–ü–æ—Ç–æ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤—ã–∑–æ–≤ –ª–æ–≥–≥–µ—Ä–∞ –≤ –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ–∞–π–ª–µ
~conveyor/smachine/main/example/example_1.go~ –≤–Ω—É—Ç—Ä–∏ func (s
*StateMachine1) ~State1(ctx smachine.ExecutionContext) smachine.StateUpdate~

** –ù–∞–ø–∏—Å–∞—Ç—å use-case –∏ smachine –¥–ª—è –Ω–µ–≥–æ
*** –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ –∫–æ–Ω–≤–µ–π–µ—Ä–∞

–û–∫–µ–π, —á—Ç–æ —è –ø–æ–Ω—è–ª –∏–∑ —Ç–µ—Å—Ç–∞ –∫–æ–Ω–≤–µ–π–µ—Ä–∞:

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º ~MachineConfig~ —Å –Ω–∞–±–æ—Ä–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤,
–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –º–Ω–µ –ø–æ–∫–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ.

–ü–æ—Ç–æ–º –¥–µ–ª–∞–µ–º —Ñ–∞–±—Ä–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è
–≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞–µ—Ç <—Ñ—É–Ω–∫—Ü–∏—é —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—ã>. –≠—Ç–∞ <—Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—ã> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç
—Ç–æ–ª—å–∫–æ ~ConstructionContext~, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑—ç–º–ø–ª—è—Ä —Ç–∏–ø–∞ ~AppEventSM~,
–∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –º–Ω–µ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –∏
–Ω–æ–º–µ—Ä –ø—É–ª—å—Å–∞.

–ü–æ—Ç–æ–º –º—ã –º–µ–∂–¥—É –¥–µ–ª–æ–º –¥–æ–±–∞–≤–ª—è–µ–º –≤ ~MachineConfig~ –ª–æ–≥–≥–µ—Ä, –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –ø–æ—á–µ–º—É
—Ç—É—Ç, –∞ –Ω–µ –∫–æ–≥–¥–∞ –º—ã –æ–ø—Ä–µ–¥—è–ª–∏ ~MachineConfig~, –≤–ø—Ä–æ—á–µ–º —ç—Ç–æ –º–∞–ª–æ–≤–∞–∂–Ω–æ

–î–∞–ª—å—à–µ –º—ã —Å–æ–∑–¥–∞–µ–º –∫–æ–Ω–≤–µ–µ—Ä –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º ~NewPulseConveyor~, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É
~MachineConfig~, —Ñ–∞–±—Ä–∏–∫—É –∏ –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
—Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–æ—Ç-–º–∞—à–∏–Ω–∞, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å <–ø—É–ª —Å–ª–æ—Ç–æ–≤> –∏ <–æ—á–µ—Ä–µ–¥—å
—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏>.

- ~–ü—É–ª —Å–ª–æ—Ç–æ–≤~ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –º–∞—Å—Å–∏–≤–æ–≤ —Å–ª–æ—Ç–æ–≤, –Ω–∞–∑–≤–∞–Ω–Ω—ã–π ~SlotPages~ –∏ —è –Ω–µ
–ø–æ–Ω–∏–º–∞—é –ø–æ—á–µ–º—É, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ —Å—Ç–∞–Ω–µ—Ç –ø–æ–Ω—è—Ç–Ω–µ–µ –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫
–æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å–æ —Å–ª–æ—Ç–∞–º–∏.

- ~–û—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏~ –ø–æ-–≤–∏–¥–∏–º–æ–º—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –∏ —Å–æ–±—ã—Ç–∏—è –∏–∑–≤–Ω–µ,
—á—Ç–æ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–ª–æ—Ç-–º–∞—à–∏–Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∏—Ö. –ù–∞–¥–æ –±—É–¥–µ—Ç –ø–æ–∑–∂–µ
–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —ç—Ç–æ "–∏–∑–≤–Ω–µ".

–ì–¥–µ-—Ç–æ —Ç—É—Ç –∏—Å—Ö–æ–¥—è –∏–∑ –ª–æ–≥–∏–∫–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É–ª—å—Å–∞ –∏
–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –æ–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ, –ø–æ –∫–∞–∫–æ–π-—Ç–æ
–ø—Ä–∏—á–∏–Ω–µ –±—ã–≤–∞—é—Ç –≤–Ω–µ—à–Ω–∏–µ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ. –û–Ω–∏ —è–≤–ª—è—é—Ç—Å—è –ø–æ–ª—è–º–∏ –∫–æ–Ω–≤–µ–π—Ä–∞ –∏ —á—Ç–æ–±—ã
—Å –Ω–∏–º–∏ –≥–ª—É–±–∂–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –Ω–∞–¥–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ ~sunckit~. –ö–∞–∂–µ—Ç—Å—è —Ç–∞–º –º–Ω–æ–≥–æ
–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –∏ –±—Ä–æ–∞–¥–∫–∞—Å—Ç—è—Ç—Å—è.

–ï—â–µ –∫–æ–Ω–≤–µ–π–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç.–Ω. ~PulseDataManager~, —Ç–∞–º –º–Ω–æ–≥–æ –≤—Å–µ–≥–æ –∏
–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –≤ –∫–∞–∫–∏—Ö –æ–Ω–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏.

–≠–Ω–∏–≤—ç–π, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω–≤–µ–π–µ—Ä–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è ~PulsarData~, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ
–∏—Å—Ç–æ—á–Ω–∏–∫ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—É–ª—å—Å–∞. –Ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é —ç—Ç–æ —Å–µ–±–µ –∫–∞–∫
—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—É–ª—å—Å–∞ –ø–æ –≥—Ä–∞—Ñ—É —Å–µ—Ç–∏, –Ω–æ, –≤–æ–∑–º–æ–∂–Ω–æ
–æ—à–∏–±–∞—é—Å—å.

–ü–æ—Ç–æ–º —É –∫–æ–Ω–≤–µ–π–µ—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ~Worker~

–î–∞–ª—å—à–µ —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ conveyor.CommitPulseChange –∏
–∑–∞—Å—ã–ø–∞–µ—Ç.

–ü–æ—Ç–æ–º –≤ —Ü–∏–∫–ª–µ:
- ~PulsarData~ –¥–µ–ª–∞–µ—Ç CreateNextPulsarPulse, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø—É–ª—å—Å
  –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (–∑–∞—á–µ–º?) –∏ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –æ—Ç—Å—Ç—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–∫–æ –ø—Ä–∏ conveyor.AddInput (—è –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω–∏–º–∞—é
  —á—Ç–æ —Ç–∞–∫–æ–µ Input –≤–æ–æ–±—â–µ)
- –ï—Å—Ç—å –∫–∞–∫–æ–π-—Ç–æ –Ω–µ—è—Å–Ω—ã–π –∫—É—Å–æ–∫ –∫–æ–¥–∞ —Å GetPublishedGlobalAlias –∏ smachine.ScheduleCallTo

–ò –Ω–∞ —ç—Ç–æ–º –≤—Ä–æ–¥–µ –±—ã –≤—Å–µ

*** –û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ—Ç-–º–∞—à–∏–Ω—ã

–ò—Ç–∞–∫, —Å–Ω–∞—á–∞–ª–∞ –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª, –∞ –ø–æ—Ç–æ–º —Å–ª–æ—Ç-–º–∞—à–∏–Ω—É, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–π
–∫–æ–Ω—Ñ–∏–≥ –∏ siginal.NextBroadcast –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–ª–ª–±—ç–∫–æ–≤ eventCallback –∏
SignalCallback. –í –∫–æ–Ω—Ñ–∏–≥–µ –∏–¥—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª–ª–∏–Ω–≥–∞, —Ä–∞–∑–º–µ—Ä
—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Ç–ø)

–ü–æ—Ç–æ–º –º—ã –∏–Ω–∂–µ–∫—Ç–∏–º –≤ —Å–ª–æ—Ç-–º–∞—à–∏–Ω—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–∫–æ—Ç–æ—Ä—ã–µ –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ
–Ω—É–∂–Ω—ã, –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏)

–°—Ç–µ–π—Ç-–º–∞—à–∏–Ω—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ª–æ—Ç-–º–∞—à–∏–Ω—ã —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞
~SlotMachine.AddNew~, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:
- –∫–æ–Ω—Ç–µ–∫—Å—Ç
- —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—É
- –∫–∞–∫–∏–µ-—Ç–æ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ª–æ—Ç, –∑–∞–ø–∏—Å—ã–≤–∞—è –≤ –Ω–µ–≥–æ
–¥–µ—Ñ–æ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –ø–æ—Ç–æ–º —á–µ—Ä–µ–∑ ~SlotMachineSync.AddAsyncUpdate~
–ø–æ-–≤–∏–¥–∏–º–æ–º—É, –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª–æ—Ç –≤ –æ—á–µ—Ä–µ–¥—å SlotMachineSync.
(—Å–º. [[*%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C %D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8 %D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B8
 SlotMachine][–ú–æ–¥–µ–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ SlotMachine]])

–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, ~SlotMachine.AddNew~ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ~SlotLink~, –∫–æ—Ç–æ—Ä—ã–π –ø–æ
—Å—É—Ç–∏ –ø–∞—Ä–∞ –∏–∑ –∞–π–¥–∏—à–Ω–∏–∫–∞ –∏ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Å–ª–æ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —É –Ω–∞—Å –µ—Å—Ç—å ~SlotMashine~ –∞ –≤ –Ω–µ–π
~StateMachine1~.

–° –ø–æ–º–æ—â—å—é ~sworker.NewAttachableSimpleSlotWorker~ –º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º
~WorkerFactory~, —á—Ç–æ –∫–∞–∫ –±—ã –Ω–∞–º–µ–∫–∞–µ—Ç, —á—Ç–æ –≤ –±—É–¥—É—â–µ–º SlotWorker –±—É–¥–µ—Ç –∫
—á–µ–º—É-—Ç–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω. –ï—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞
~uint32~, –∑–∞–≤–µ—Ä–Ω—É—Ç—ã–π –≤ —Ç–∏–ø ~AttachableSimpleSlotWorker~. –û–Ω –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é ~WorkerFactory~, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä  –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
–ø—Ä–∏–º–∏—Ç–∏–≤–Ω—É—é –∑–∞—Ç—ã—á–∫—É –¥–ª—è Worker'–∞.

–ï—â–µ –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª ~neverSignal~. –û–Ω –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω –≤
WorkerFactory.AttachTo, –≤–∏–¥–∏–º–æ –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω—è—Ç—å –∫–∞–∫–æ–π-—Ç–æ
—Å–∏–≥–Ω–∞–ª. –ë–æ–ª—å—à–µ –æ–Ω –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

–î–∞–ª–µ–µ –∏–¥–µ—Ç —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ü–∏–∫–ª–∞ –æ–¥–Ω–æ–≥–æ Worker`a:
- wakeupSignal := signal.Mark() - –ø–æ-–≤–∏–¥–∏–º–æ–º—É, —Ç–∞–º –≤–Ω—É—Ç—Ä–∏ –≤–∑–≤–æ–¥–∏—Ç—Å—è
  —Å–∏–≥–Ω–∞–ª —Å –ø–æ–º–æ—â—å—é CAS - —É—Ç–æ—á–Ω–∏—Ç—å <?>
- ~workerFactory.AttachTo~. –ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç? –ü–æ-–≤–∏–¥–∏–º–æ–º—É –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç –∫
  —Å–ª–æ—Ç-–º–∞—à–∏–Ω–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ~worker~ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –≤
  ~SlotMachine.ScanOnce~. –í–Ω—É—Ç—Ä–∏ ScanOnce –∫–∞–∫ —Ä–∞–∑ –∏ –∏–¥–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤
  —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—ã.
  - –ü–æ—ç—Ç–æ–º—É –∏–¥–µ–º –≥–ª—É–±–∂–µ –∏ –≤–∏–¥–∏–º, —á—Ç–æ –≤ ~AttachTo~ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏
    –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è ~SimpleSlotWorker~ –∞ –ø–æ—Ç–æ–º –Ω–∞ –Ω–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–∞
    —Å–∞–º–∞—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- —Ä–∞–∑ –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª (1e8/scanCountLimit) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ - —á—Ç–æ–±—ã
  –Ω–µ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ, –≤–∏–¥–∏–º–æ.
- –ï—Å–ª–∏ ~nextPollTime~ –Ω–µ –∫–æ–Ω—á–∏–ª–æ—Å—å —Ç–æ –º—ã —Å–ø–∏–º, –∏–Ω–∞—á–µ
  ~wakeupSignal.Wait()~, —Ç.–µ. —ç—Ç–æ –æ–∂–∏–¥–∞–Ω–∏–µ –Ω–∞ —Å–∏–≥–Ω–∞–ª–µ
  –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ. –ù–µ –ø–æ–Ω–∏–º–∞—é –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ <?>

*** –ú–æ–¥–µ–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ SlotMachine

–ï—Å—Ç—å —Ç—Ä–∏ —Ç–∏–ø–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:
- signal,
- external event,
- internal event
–∏ –¥–≤–∞ —Ç–∏–ø–∞ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- update
- async
–ø–ª—é—Å —Ç—Ä–∏ —Ç–∏–ø–∞ –∑–æ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—è (–ø–æ —Ç–∏–ø—É Woroker'–∞)

[TODO:gmm] - —Ä–∞—Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ

*** –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç SM

—Ç–µ –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ —à–∞–≥
–∏ —Ç–µ –∫–æ—Ç–æ—Ä–µ—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç

–£ –Ω–∞—Å –µ—Å—Ç—å —Ç.–Ω. ~—Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω–∞~ (SM), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π g–æ-—à–Ω—ã–π
–∫–ª–∞—Å—Å. –í —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ –µ—Å—Ç—å –º–µ—Ç–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ
–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ~...Context~. –ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ö–æ—á–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
—à–∞–≥–∞ —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—ã - –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (return) –º–µ—Ç–æ–¥ —ç—Ç–æ–≥–æ
–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥ ~return ctx.Jump(s.StateX)~ –±–µ–∑—É—Å–ª–æ–≤–Ω–æ
–ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω—É ~s~ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ~StateX~.

–ö–∞–∂–¥–æ–π —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ~—Å–ª–æ—Ç~. –°–ª–æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤—Å–µ —á—Ç–æ
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–µ–π—Ç-–º–∞—à–∏–Ω–æ–π - –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–µ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ,
—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏.—Ç.–ø. –°–ª–æ—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –≤ ~–°–ª–æ—Ç-–º–∞—à–∏–Ω–µ~,
–æ–Ω–∞ –∂–µ –∏–º–∏ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç (–ø—Ä–æ—Ü–µ—Å—Å–∏—Ç)

~–ö–æ–Ω–≤–µ–π–µ—Ä~ –∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–ª–æ—Ç-–º–∞—à–∏–Ω, —Å —É—á–µ—Ç–æ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
–ø—É–ª—å—Å–æ–≤.

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã SM –º–æ–≥–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
—Å—É—â–µ—Å—Ç–≤—É–µ—Ç ~–ö–æ–Ω—Ç–µ–∫—Å—Ç—ã~ (–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ)
(—Å–º. smachine/api_context.go). SM –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –Ω–µ–º —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ
—Ä–µ—Å—É—Ä—Å—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –∫ –Ω–∏–º –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø. –ü—Ä–∏ —ç—Ç–æ–º –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ
–ø–æ–ª–æ–∂–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —á—Ç–æ-—Ç–æ, –∞ –ø–æ—Ç–æ–º —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å —ç—Ç–æ, —Ç.–∫. –Ω–∞—á–Ω—É—Ç—Å—è
–≥–æ–Ω–∫–∏. –ü–æ—ç—Ç–æ–º—É, —Ñ–æ—Ä–º–∏—Ä—É—è —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å, –Ω–∞–¥–æ –ø—Ä–æ–π—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤:
- –°–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª—é—á, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π
  —Ä–µ—Å—É—Ä—Å. –≠—Ç–æ—Ç –∫–ª—é—á –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä—è–º–æ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ SM –∏
  –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å SM.
- –ü–æ—Ç–æ–º, –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –∫–ª—é—á –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–¥–µ–ª—è–º—ã–π
  –æ–±—ä–µ–∫—Ç. –≠—Ç–∏–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è ~catalogC.GetOrCreate()~, –¥–µ–ª–∞—è —Å–ª–µ–¥—É—é—â–µ–µ:
  - –†–∞–∑–¥–µ–ª—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫, –æ–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å
    –∫–∞–∫–æ–π-—Ç–æ SM.
  - –ü–æ—ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ —Å–æ–∑–¥–∞—Ç—å SM (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ—á–µ—Ä–Ω—é—é –∫ —Ç–µ–∫—É—â–µ–π) —Å
    –ø–æ–º–æ—â—å—é ~ctx.InitChild~, –ø–µ—Ä–µ–¥–∞–≤ –µ–π —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç
    SharedState –Ω—É–∂–Ω–æ–≥–æ —Ç–∏–ø–∞, –∑–∞–ø–æ–ª–Ω—è—è –µ—ë –¥–∞–Ω–Ω—ã–º–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —ç—Ç–∞
    —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–º—ã–∫–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–º–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
    SharedState –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç.
  - –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ~catalogC.Get~, –µ–º—É –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏
    –∫–ª—é—á, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ–∏—Å–∫. –ï—Å–ª–∏ –ø–æ–∏—Å–∫ —É—Å–ø–µ—à–µ–Ω,
    —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π accessor, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç
    –¥–æ—Å—Ç—É–ø, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ - panic
    - –ü–æ–∏—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç ~catalogC.TryGet~ - –æ–Ω –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∫–æ–Ω—Ç–µ–∫—Ç—Å—Ç—É
      –ø–æ –∫–ª—é—á—É, –ø—Ä–∏ —ç—Ç–æ–º –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ accessor-—É –≤–æ–∑–≤—Ä–∞—â–∞—Ç–µ—Å—è
      bool-–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∞—Å—Å–µ—Å—Å–æ—Ä. –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è
      —Å –ø–æ–º–æ—â—å—é ~SharedDataLink.isAssignableTo~, –∫–æ—Ç–æ—Ä–æ–º—É –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è
      —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π nil, –∞ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É —Ç–∏–ø–∏–∑–∞—Ü–∏—é —á—Ç–æ–±—ã —Ä–µ—Ñ–ª–µ–∫—Ç–æ–º
      –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å assignable –∏–ª–∏ –Ω–µ—Ç.
  - –¢–µ–ø–µ—Ä—å accessor –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª—é—á—É, –∫–æ—Ç–æ—Ä—ã–π
    –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±–µ—Ä—Ç–∫—É –Ω–∞–¥ ~SharedDataLink~,
    –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∂–µ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å ~Prepare~ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ–±–µ—Ä—Ç–∫–∏) –Ω–∞–¥ –Ω–∞—à–∏–º
  —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º ~Accessor-–æ–º~. –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç
  –ø—Ä–∏–º–µ–Ω—è—Ç—å ~SharedDataFunc~ –∫ –ª–∏–Ω–∫—É. Prepare –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
  ~SharedDataAceessor~
- –ü–æ—Ç–æ–º –º—ã –¥–µ–ª–∞–µ–º ~SharedDataAccessor.TryUse~, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É
  –∫–æ–Ω—Ç–µ–∫—Å—Ç. –¢–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ~SharedAccessReport~, –∫–æ—Ç–æ—Ä—ã–π –ø–æ —Å—É—Ç–∏ - –∫–æ–¥
  –≤–æ–∑–≤—Ä–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —É–¥–∞–ª–æ—Å—å –ª–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∏ –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ
  –ø–æ—á–µ–º—É. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —Ç–µ –∏–ª–∏
  –∏–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.

*** –ù–∞–ø–∏—Å–∞—Ç—å –ø–∏–Ω–≥-–ø–æ–Ω–≥

–£ –º–µ–Ω—è –µ—Å—Ç—å —Ç–æ–ª–ø–∞ –∏–∑ 100 SM, –æ–Ω–∏ —Ö–æ—Ç—è—Ç –∏–≥—Ä–∞—Ç—å.

–í—Å–µ SM –∑–Ω–∞—é—Ç –∫–ª—é—á SharedObject-a, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä,
–ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ—Ç –∫–ª—é—á –≤ –Ω–∏—Ö –∑–∞—à–∏—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä —ç—Ç–æ –∫–ª—é—á "make-pair".

–ö–æ–≥–¥–∞ SM —Å—Ç–∞—Ä—Ç—É–µ—Ç (~Start~), –æ–Ω–∞ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —ç—Ç–æ–º—É Shared-—É, –∏, –µ—Å–ª–∏ –æ–Ω
–µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω, —Å–æ–∑–¥–∞–µ—Ç –µ–≥–æ, –∑–∞–ø–∏—Å—ã–≤–∞—è –≤ –ø–æ–ª–µ ~FirstPlayer~ —Å–≤–æ–π UID. –î–ª—è
–ø—Ä–æ—Å—Ç–æ—Ç—ã –ø—É—Å—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ UID=–∞–¥—Ä–µ—Å, —Ç.–∫. –º—ã –ø–æ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ–º –≤–Ω—É—Ç—Ä–∏
–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. –ó–∞–ø–∏—Å–∞–≤ —Å–µ–±—è –≤ ~FirstPlayer~ SM
–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç—è–Ω–∏–µ ~WaitForSecond~ –∏ –∂–¥–µ—Ç –Ω–∞ –Ω–µ–º, –∫–æ–≥–¥–∞ –ø–æ–ª–µ
~SecondPlayer~ –≤ Shared-e –∏–∑–º–µ–Ω–∏—Ç—Å—è (–µ—Å–ª–∏ –ø–µ—Ä–µ–ø—Ä—ã–≥–Ω—É—Ç—å —á–µ—Ä–µ–∑ —Å–ª–µ–¥—É—é—â–∏–π
–∞–±–∑–∞—Ü, —Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –¥–∞–ª—å—à–µ)

–ï—Å–ª–∏ Shared —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ SM:
- –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–≤–æ–π UID –≤ –ø–æ–ª–µ SecondPlayer
- –≤—ã—á–∏—Å–ª—è–µ—Ç key = (FirstPlayerUID ‚äï SecondPlayerUID) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ —Å–µ–±–µ
–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ~WaitForGame~, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–∂–∏–¥–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è
–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π SharedObject —Å –∫–ª—é—á–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±–æ–∏—Ö UID.

–í–Ω—É—Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è ~WaitForSecond~ –∫–æ–≥–¥–∞ –ø–æ–ª–µ SecondPlayer –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, SM
—Å–æ–∑–¥–∞–µ—Ç SharedObject —Å –∫–ª—é—á–æ–º (FirstPlayerUID ‚äï SecondPlayerUID) –∏
"–≤–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º—è—á" - —Ç.–µ. –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª–µ BallOwner. –ê –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç
–≤ —Å–æ—Å—Ç—è–Ω–∏–µ Game (–∏ –Ω–∞–¥–æ —Å–Ω–æ–≤–∞ –ø–µ—Ä–µ–ø—Ä—ã–≥–Ω—É—Ç—å —á–µ—Ä–µ–∑ —Å–ª–µ–¥. –∞–±–∑–∞—Ü)

–í–Ω—É—Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è WaitForGame, –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏–ª—Å—è
–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–æ–º (FirstPlayerUID ‚äï SecondPlayerUID) SM
–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Game

–¢–µ–ø–µ—Ä—å –æ–Ω–∏ –æ–±–∞ –≤ —Å–æ—Å—Ç—è–Ω–∏–∏ Game –∏ –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞—é—Ç—Å—è –º—è—á–∏–∫–æ–º –∏–∑–º–µ–Ω—è—è –ø–æ–ª–µ
Owner, —Å —à–∞–Ω—Å–æ–º –ø–æ–ø–∞—Å—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ GameOver.

–ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏–≤—à–∏–π GameOver –æ–±–Ω—É–ª—è–µ—Ç
Owner, –∞ –≤—Ç–æ—Ä–æ–π (–∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —ç—Ç–æ) –¥–µ–ª–∞–µ—Ç UnPublish
SharedObject-–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω–∏ –æ–±–∞ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –∫ –ø–æ–∏—Å–∫—É –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞.

*** –†–∞–∑–ø–∞—Ä—Å–∏—Ç—å –ø–∏–Ω–≥-–ø–æ–Ω–≥

–ü–∞—Ä—Å–µ—Ä

#+NAME:
#+BEGIN_SRC go
  ///
  //    Copyright 2019 Insolar Technologies
  //
  //    Licensed under the Apache License, Version 2.0 (the "License");
  //    you may not use this file except in compliance with the License.
  //    You may obtain a copy of the License at
  //
  //        http://www.apache.org/licenses/LICENSE-2.0
  //
  //    Unless required by applicable law or agreed to in writing, software
  //    distributed under the License is distributed on an "AS IS" BASIS,
  //    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  //    See the License for the specific language governing permissions and
  //    limitations under the License.
  ///

  package main

  import (
      "fmt"
      "github.com/insolar/assured-ledger/ledger-core/v2/insolar"

      "github.com/pkg/errors"
      "go/ast"
      "go/parser"
      "go/token"
      "io/ioutil"
      "os"
      "reflect"
      "strings"
  )

  const (
      TemplateDirectory = "templates"

      filename = "src/github.com/insolar/assured-ledger/ledger-core/v2/conveyor/smachine/ping-pong/example/example_3.go"
      mainPkg   = "main"
      errorType = "error"
      MachineTypeGoPlugin
  )

  type ParPair struct {
      Name 	string
      Type 	string
  }

  type SelPair struct {
      Obj 		string
      Fun			string
  }

  const (
      RetTypeCall = "‚ñ∑"
  )

  type Ret struct {
      Lvl		string
      Str 	string
      Type	string
      Sel		SelPair
      Args    []string
  }

  type FnState struct {
      Name 	string
      Recv    *ParPair
      Pars    []*ParPair
      Rets    []*Ret
  }

  // ParsedFile struct with prepared info we extract from source code
  type ParsedFile struct {
      filename             string
      code                []byte
      fileSet             *token.FileSet
      node                *ast.File
      machineType         insolar.MachineType
      panicIsLogicalError bool

      states       map[string]*FnState

      types        map[string]*ast.TypeSpec
      methods      map[string][]*ast.FuncDecl
      constructors map[string][]*ast.FuncDecl
      contract     string
  }

  func main() {
      pathname:= fmt.Sprintf("%s/%s", os.Getenv("GOPATH"), filename)
      // fmt.Printf("\n:: parsing for::['%s']", pathname)
      // parsed, err := ParseFile(pathname, insolar.MachineTypeGoPlugin)
      // fmt.Printf("\n:: <= err: %s \n:: <=parsed: %s", err, parsed)
      ParseFile(pathname, insolar.MachineTypeGoPlugin)
  }

  // ParseFile parses a file as Go source code of a smart contract
  // and returns it as `ParsedFile`
  func ParseFile(fileName string, machineType insolar.MachineType) (*ParsedFile, error) {
      pf := &ParsedFile{
          filename:        fileName,
          machineType: machineType,
      }
      fmt.Printf("\n:: resource filename: %s", pf.filename)

      sourceCode, err := slurpFile(fileName)
      if err != nil {
          return nil, errors.Wrap(err, "Can't read file")
      }
      pf.code = sourceCode

      pf.fileSet = token.NewFileSet()
      node, err := parser.ParseFile(pf.fileSet, pf.filename, pf.code, parser.ParseComments)
      if err != nil {
          return nil, errors.Wrapf(err, "Can't parse %s", fileName)
      }
      pf.node = node

      ast.Inspect(node, func(n ast.Node) bool {
          fn, ok := n.(*ast.FuncDecl)
          if ok {
              pf.parseMethod(fn)  // TODO: return value
          }
          return true
      })

      return pf, nil
  }

  func (pf *ParsedFile) parseMethod(fn *ast.FuncDecl) {
      // I want to analise only method functions
      for _, fld := range fn.Recv.List {

          // I want analyse only method-functions
          if 1 != len(fld.Names) { // There is method function
              continue
          }

          // I want analyse only exported methods
          if !fn.Name.IsExported() {
              continue
          }

          // Receiver
          recv := &ParPair{
              Name : fld.Names[0].Name,
              Type : fmt.Sprintf("%s", pf.code[fld.Type.Pos()-1:fld.Type.End()-1]),
          }

          // Parameters
          var pars []*ParPair
          for _, par := range fn.Type.Params.List {
              param := &ParPair{ // Receiver
                  Name : par.Names[0].Name,
                  Type : fmt.Sprintf("%s", pf.code[par.Type.Pos()-1:par.Type.End()-1]),
              }
              pars = append(pars, param)
          }

          // I want to analyse only methods, who takes context
          if !isMethodTakesCtx(pars) {
              continue
          }

          // I want to analyze methods which have a `smashine.StateUpdate' result type
          res := fn.Type.Results.List[0].Type
          resSel, ok := res.(*ast.SelectorExpr)
          if !ok || "StateUpdate" != resSel.Sel.Name {
              continue
          }
          resXstr := fmt.Sprintf("%s", pf.code[resSel.X.Pos()-1:resSel.X.End()-1])
          if "smachine" != resXstr {
              continue
          }

          // Find all Return Statements in function content
          var rets = make([]*Ret, 0)
          for _, smth := range fn.Body.List { // ‚àÄ fn.Body.List ‚Üê (or RetStmt (Inspect ...))
              retStmt, ok := smth.(*ast.ReturnStmt)
              if ok {
                  // return from top-level statements of function
                  rets = append(rets, collectRets(retStmt, pf.code, "Top")...)
              } else {
                  ast.Inspect(smth, func(in ast.Node) bool {
                      // Find Return Statements
                      retStmt, ok := in.(*ast.ReturnStmt) // ‚Üê
                      if ok {
                          // return from deep-level function statememt
                          rets = append(rets, collectRets(retStmt, pf.code, "Deep")...)
                      } else {
                          //fmt.Printf("\nin: %s", reflect.TypeOf(in))
                      }
                      return true
                  })
              }
          }

          state := FnState{
              Name: fn.Name.Name,
              Recv: recv,
              Pars: pars,
              Rets: rets,
          }

          // Debug output
          fmt.Printf("\n\nfn: %s", state.Name) // Function name
          fmt.Printf("\nrecv: %s | %s", state.Recv.Name, state.Recv.Type) // Receiver
          for _, par := range state.Pars { // Parameters
              fmt.Printf("\npar name: %s | type: %s", par.Name, par.Type)
          }
          for _, item := range state.Rets {
              fmt.Printf("\n%s: ['%s']", item.Lvl, item.Str)
              if RetTypeCall == item.Type {
                  fmt.Printf("\n(‚ñ∑ (@ %s %s))", item.Sel.Obj, item.Sel.Fun)
                  for _, arg := range item.Args {
                      fmt.Printf("\n%s", arg)
                  }
              }
          }
      }
  }

  func collectRets(retStmt *ast.ReturnStmt, code []byte, level string) []*Ret {
      var acc []*Ret
      for _, ret := range retStmt.Results {
          item := &Ret{
              Lvl:	level,
              Str:	fmt.Sprintf("%s",code[ret.Pos()-1:ret.End()-1]),
          }
          for _, retNode := range retStmt.Results {
              retNodeStr := fmt.Sprintf("%s", reflect.TypeOf(retNode))
              switch retNodeStr {
              case "*ast.CallExpr":
                  item.Type = RetTypeCall
                  retCall := retNode.(*ast.CallExpr)
                  retSelStr := fmt.Sprintf("%s", reflect.TypeOf(retCall.Fun))
                  switch retSelStr {
                  case "*ast.SelectorExpr":
                      retSelector := retCall.Fun.(*ast.SelectorExpr)
                      retX, ok := retSelector.X.(*ast.Ident)
                      if ok {
                          item.Sel.Obj = retX.Name
                      } else { // may be not Ident !
                          fmt.Printf("\nERR: UNKNOWN RETSELECTOR %s", reflect.TypeOf(retSelector.X))
                      }
                      item.Sel.Fun = retSelector.Sel.Name
                      // Args
                      accArgs := make([]string, 0)
                      for _, retarg := range retCall.Args {
                          retArgTypeStr := fmt.Sprintf("%s", reflect.TypeOf(retarg))
                          switch retArgTypeStr {
                          case "*ast.SelectorExpr":
                              sel := retarg.(*ast.SelectorExpr)
                              selName := fmt.Sprintf("%s", code[sel.X.Pos()-1:sel.X.End()-1])
                              arg := fmt.Sprintf("    (@ %s %s)", selName, sel.Sel.Name)
                              accArgs = append(accArgs, arg)
                          case "*ast.Ident":
                              idn := retarg.(*ast.Ident)
                              arg := fmt.Sprintf("    %s", idn.Name)
                              accArgs = append(accArgs, arg)
                          default:
                              fmt.Printf("\nERR: UNKNOWN RETARG('%s' of %s)", retarg, reflect.TypeOf(retarg))
                          }
                      }
                      //item.Args = append(item.Args, accArgs)
                      item.Args = accArgs
                      fmt.Printf(")", )
                  default:
                      fmt.Printf("\nERR: UNKNOWN RETSEL %s", retSelStr)
                  }
              default:
                  fmt.Printf("\nERR: UNKNOWN RETNODE %s", retNodeStr)
              }
          }
          acc = append(acc, item)
      }
      return acc
  }

  //func processSelector (selector *ast.Expr) {
  //	//selector, ok := exp.Fun.(*ast.SelectorExpr)
  //	retX, ok := selector.X.(*ast.Ident)
  //	if ok {
  //		fmt.Printf("(@ %s", retX.Name)
  //	}
  //
  //}

  func isMethodTakesCtx(pars []*ParPair) bool {
      for _, par := range pars {
          if strings.Contains(par.Type, "Context") {
              return true
          }
      }
      return false
  }

  func slurpFile(fileName string) ([]byte, error) {
      file, err := os.OpenFile(fileName, os.O_RDONLY, 0)
      if err != nil {
          return nil, errors.Wrap(err, "Can't open file '"+fileName+"'")
      }
      defer file.Close() //nolint: errcheck

      res, err := ioutil.ReadAll(file)
      if err != nil {
          return nil, errors.Wrap(err, "Can't read file '"+fileName+"'")
      }
      return res, nil
  }

  func (pf *ParsedFile) parseTypes() error {
      pf.types = make(map[string]*ast.TypeSpec)
      for _, decl := range pf.node.Decls {
          tDecl, ok := decl.(*ast.GenDecl)
          if !ok || tDecl.Tok != token.TYPE {
              continue
          }

          for _, e := range tDecl.Specs {
              typeNode := e.(*ast.TypeSpec)

              err := pf.parseTypeSpec(typeNode)
              if err != nil {
                  return err
              }
          }
      }

      return nil
  }

  func (pf *ParsedFile) parseTypeSpec(typeSpec *ast.TypeSpec) error {
      if isContractTypeSpec(typeSpec) {
          if pf.contract != "" {
              return errors.New("more than one contract in a file")
          }
          pf.contract = typeSpec.Name.Name
      } else {
          pf.types[typeSpec.Name.Name] = typeSpec
      }

      return nil
  }

  func isContractTypeSpec(typeNode *ast.TypeSpec) bool {
      baseContract := "foundation.BaseContract"
      st, ok := typeNode.Type.(*ast.StructType)
      if !ok {
          return false
      }
      if st.Fields == nil || st.Fields.NumFields() == 0 {
          return false
      }
      for _, fd := range st.Fields.List {
          if len(fd.Names) != 0 {
              continue // named struct field
          }
          selectField, ok := fd.Type.(*ast.SelectorExpr)
          if !ok {
              continue
          }
          pack := selectField.X.(*ast.Ident).Name
          class := selectField.Sel.Name
          if baseContract == (pack + "." + class) {
              return true
          }
      }

      return false
  }

  func (pf *ParsedFile) parseConstructor(fd *ast.FuncDecl) error {
      name := fd.Name.Name
      if !strings.HasPrefix(name, "New") {
          return nil // doesn't look like a constructor
      }

      res := fd.Type.Results

      if res.NumFields() != 2 {
          return errors.Errorf("Constructor %q should return exactly two values", name)
      }

      if pf.typeName(res.List[1].Type) != errorType {
          return errors.Errorf("Constructor %q should return 'error'", name)
      }

      typename := pf.typeName(res.List[0].Type)
      pf.constructors[typename] = append(pf.constructors[typename], fd)

      return nil
  }

  func (pf *ParsedFile) typeName(t ast.Expr) string {
      if tmp, ok := t.(*ast.StarExpr); ok { // *type
          t = tmp.X
      }
      return pf.codeOfNode(t)
  }

  // codeOfNode returns source code of an AST node
  func (pf *ParsedFile) codeOfNode(n ast.Node) string {
      return string(pf.code[n.Pos()-1 : n.End()-1])
  }
#+END_SRC

–ö–æ–¥ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

#+BEGIN_SRC go
  ///
  //    Copyright 2019 Insolar Technologies
  //
  //    Licensed under the Apache License, Version 2.0 (the "License");
  //    you may not use this file except in compliance with the License.
  //    You may obtain a copy of the License at
  //
  //        http://www.apache.org/licenses/LICENSE-2.0
  //
  //    Unless required by applicable law or agreed to in writing, software
  //    distributed under the License is distributed on an "AS IS" BASIS,
  //    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  //    See the License for the specific language governing permissions and
  //    limitations under the License.
  ///

  package example

  import (
      "fmt"
      "time"

      "github.com/insolar/assured-ledger/ledger-core/v2/vanilla/injector"
      "github.com/insolar/assured-ledger/ledger-core/v2/vanilla/longbits"

      "github.com/insolar/assured-ledger/ledger-core/v2/conveyor/smachine"
  )

  type StateMachine3 struct {
      serviceA *ServiceAdapterA
      catalogC CatalogC
      catalogD CatalogD

      mutex   smachine.SyncLink
      testKey longbits.ByteString
      waitKey string //longbits.ByteString
      result  string
      count   int
  }

  var IterationCount uint64
  var Limiter = smachine.NewFixedSemaphore(1000, "global")

  /* -------- Declaration ------------- */

  var declarationStateMachine3 smachine.StateMachineDeclaration = &StateMachine3Declaration{}

  type StateMachine3Declaration struct {
      smachine.StateMachineDeclTemplate
  }

  func (StateMachine3Declaration) InjectDependencies(sm smachine.StateMachine, _ smachine.SlotLink, injector *injector.DependencyInjector) {
      s := sm.(*StateMachine3)
      injector.MustInject(&s.serviceA)
      injector.MustInject(&s.catalogC)
  }

  func (StateMachine3Declaration) GetInitStateFor(sm smachine.StateMachine) smachine.InitFunc {
      s := sm.(*StateMachine3)
      return s.Init
  }

  /* -------- Instance ------------- */

  func (s *StateMachine3) GetStateMachineDeclaration() smachine.StateMachineDeclaration {
      return declarationStateMachine3
  }

  func (s *StateMachine3) Init(ctx smachine.InitializationContext) smachine.StateUpdate {
      s.testKey = longbits.WrapStr("make-pair")
      fmt.Printf("init: %v | %v\n", ctx.SlotLink(), time.Now())
      return ctx.Jump(s.Start)
  }

  func (s *StateMachine3) Start(ctx smachine.ExecutionContext) smachine.StateUpdate {
      // Looking for make-pair shared object
      if v, ok := s.catalogC.TryGet(ctx, s.testKey) ; ok {
          // Make-pair found
          mySharedAccessReport := v.PrepareWithSecondPlayer(func(state *CustomSharedState) {
              // First Player is already there, I will be Second Player
              // Key for Game Object
              key := fmt.Sprintf("%p.%p", state.FirstPlayer, state.SecondPlayer)
              s.waitKey = key //longbits.ByteString(key)
          },s ).TryUse(ctx)
          return smachine.RepeatOrJumpElse(ctx, mySharedAccessReport, s.WaitForGame, s.Wrong)
      } else {
          // Make-pair not found
          report := s.catalogC.GetOrCreate(ctx, s.testKey).PrepareWithFirstPlayer(func(state *CustomSharedState) {
          }, s).TryUse(ctx)
          return smachine.RepeatOrJumpElse(ctx, report, s.WaitForSecond, s.Wrong)
      }
  }

  func (s *StateMachine3) WaitForSecond(ctx smachine.ExecutionContext) smachine.StateUpdate {
      // Waiting for Second Player on Make-pair object
      if v, ok := s.catalogC.TryGet(ctx, s.testKey) ; ok {
          switcher := false // Default: No Second player
          mySharedAccessReport := v.Prepare(func(state *CustomSharedState) {
              if "" != state.SecondPlayer {
                  switcher = true // Second player is here!
                  s.waitKey = fmt.Sprintf("%p.%p", state.FirstPlayer, state.SecondPlayer)
              } else {
              }
          }).TryUse(ctx)
          if switcher {
              // making new SharedObject for Game and BallOwner initialization
              myGameSharedStateAccessor := s.catalogD.GetOrCreate(ctx, longbits.ByteString(s.waitKey))
              mySharedAccessReport := myGameSharedStateAccessor.Prepare(func(state *GameSharedState) {
                  state.BallOwner = s // I will be owner
                  state.cnt = 0
              }).TryUse(ctx)
              // Go to Game
              return smachine.RepeatOrJumpElse(ctx, mySharedAccessReport, s.Game, s.Wrong)
          } else {
              // No second player, repeat
              return smachine.RepeatOrJumpElse(ctx, mySharedAccessReport, s.WaitForSecond, s.Wrong)
          }
      } else {
          fmt.Printf("Error (WaitForSecond): Something wrong \n")
          return ctx.Jump(s.Wrong)
      }
  }

  func (s *StateMachine3) WaitForGame(ctx smachine.ExecutionContext) smachine.StateUpdate {
      // Waiting for Game Object
      // fmt.Printf("WaitForGame: %s \n", s.waitKey)
      if v, ok := s.catalogC.TryGet(ctx, longbits.ByteString(s.waitKey)) ; ok {
          return ctx.Jump(s.Game)
      } else {
          // repeat
          // return ctx.Sleep().ThenRepeat() // - Does not works, why? [TODO]
          time.After(2*time.Second) // ...same
          return ctx.Jump(s.WaitForGame)
      }
  }

  func (s *StateMachine3) Game(ctx smachine.ExecutionContext) smachine.StateUpdate {
      fmt.Printf("Game %p \n", s)
      if v, ok := s.catalogD.TryGet(ctx, longbits.ByteString(s.waitKey)) ; ok {
          endgame := false
          mySharedAccessReport := v.Prepare(func(state *GameSharedState) {
              if s != state.BallOwner {
                  state.BallOwner = s
              }
              state.cnt += 1
              if state.cnt > 2 {
                  endgame = true
              }
          }).TryUse(ctx)
          if endgame {
              // Go to GameOver
              return smachine.RepeatOrJumpElse(ctx, mySharedAccessReport, s.GameOver, s.Wrong)
          } else {
              // repeat
              return smachine.RepeatOrJumpElse(ctx, mySharedAccessReport, s.Game, s.Wrong)
          }
      } else {
          // Impossible (let it be for dbg)
          return ctx.Jump(s.Wrong)
      }
  }

  func (s *StateMachine3) GameOver(ctx smachine.ExecutionContext) smachine.StateUpdate {
      return ctx.Stop()
      //return ctx.Jump(s.GameOver)
      //return ctx.Stop()
  }

  func (s *StateMachine3) Wrong(ctx smachine.ExecutionContext) smachine.StateUpdate {
      fmt.Printf("ErrState: WRONG!!! %p \n", s)
      return ctx.WaitAnyUntil(time.Now().Add(time.Second)).ThenJump(s.Wrong)
      //return ctx.Stop()
  }
#+END_SRC

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞

#+BEGIN_SRC go
  &{
      %!s(*ast.CommentGroup=<nil>)
      %!s(token.Pos=637) example
      [
          %!s(*ast.GenDecl=&{<nil> 654 75 661 [0xc0001308a0 0xc0001308d0 0xc000130900 0xc000130930 0xc000130960] 888})
          %!s(*ast.GenDecl=&{<nil> 891 84 0 [0xc000130990] 0})
          %!s(*ast.GenDecl=&{<nil> 1111 85 0 [0xc0000d27d0] 0})
          %!s(*ast.GenDecl=&{<nil> 1137 85 0 [0xc0000d2870] 0})
          %!s(*ast.GenDecl=&{<nil> 1237 85 0 [0xc0000d2910] 0})
          %!s(*ast.GenDecl=&{<nil> 1330 84 0 [0xc0001309f0] 0})
          %!s(*ast.FuncDecl=&{<nil> 0xc000130a80 0xc0000a97e0 0xc0000a9c40 0xc000130b40})
          %!s(*ast.FuncDecl=&{<nil> 0xc000130bd0 0xc0000a9c80 0xc0000a9ee0 0xc000130cc0})
          %!s(*ast.FuncDecl=&{<nil> 0xc000130d50 0xc0000a9f60 0xc000166020 0xc000130e10})
          %!s(*ast.FuncDecl=&{<nil> 0xc000130ea0 0xc0001660a0 0xc0001664e0 0xc000130f60})
          %!s(*ast.FuncDecl=&{<nil> 0xc000130ff0 0xc000166560 0xc000167380 0xc000131350})
          %!s(*ast.FuncDecl=&{<nil> 0xc0001313e0 0xc000167400 0xc000168620 0xc000131920})
          %!s(*ast.FuncDecl=&{<nil> 0xc0001319b0 0xc0001686a0 0xc000168d80 0xc000131b90})
          %!s(*ast.FuncDecl=&{<nil> 0xc000131c20 0xc000168e00 0xc000169b20 0xc00016c120})
          %!s(*ast.FuncDecl=&{<nil> 0xc00016c1b0 0xc000169ba0 0xc000169d80 0xc00016c270})
          %!s(*ast.FuncDecl=&{<nil> 0xc00016c300 0xc000169e00 0xc00016e240 0xc00016c3c0})
          ]
      scope 0xc00009fd90 {
          type StateMachine3
          var IterationCount
          var Limiter
          var declarationStateMachine3
          type StateMachine3Declaration
      }
      [
          %!s(*ast.ImportSpec=&{<nil> <nil> 0xc0000a9080 <nil> 0})
          %!s(*ast.ImportSpec=&{<nil> <nil> 0xc0000a90a0 <nil> 0})
          %!s(*ast.ImportSpec=&{<nil> <nil> 0xc0000a90e0 <nil> 0})
          %!s(*ast.ImportSpec=&{<nil> <nil> 0xc0000a9120 <nil> 0})
          %!s(*ast.ImportSpec=&{<nil> <nil> 0xc0000a9140 <nil> 0})
          ]
      [
          ServiceAdapterA
          CatalogC
          CatalogD
          smachine
          longbits
          string
          string
          int

          uint64
          smachine
          smachine
          smachine
          smachine
          smachine
          injector
          smachine
          smachine
          smachine
          smachine
          smachine
          longbits
          fmt
          time
          smachine
          smachine
          CustomSharedState
          fmt
          smachine
          CustomSharedState
          smachine
          smachine
          smachine
          false
          CustomSharedState
          true
          fmt
          longbits
          GameSharedState
          smachine
          smachine
          fmt
          smachine
          smachine
          longbits
          time
          time
          smachine
          smachine
          fmt
          longbits
          false
          GameSharedState
          true
          smachine
          smachine
          smachine
          smachine
          smachine
          smachine
          fmt
          time
          time
          ]
      [
          %!s(*ast.CommentGroup=
              &{[0xc0000a8e40 0xc0000a8e60 0xc0000a8e80 0xc0000a8ec0 0xc0000a8ee0 0xc0000a8f00 0xc0000a8f20 0xc0000a8f40 0xc0000a8f60 0xc0000a8f80 0xc0000a8fa0 0xc0000a8fc0 0xc0000a8fe0 0xc0000a9000 0xc0000a9020
              ]})

          %!s(*ast.CommentGroup=&{[0xc0000a93e0]})
          %!s(*ast.CommentGroup=&{[0xc0000a9600]})
          %!s(*ast.CommentGroup=&{[0xc0000a9ea0]})
          %!s(*ast.CommentGroup=&{[0xc000166660]})
          %!s(*ast.CommentGroup=&{[0xc000166860]})
          %!s(*ast.CommentGroup=&{[0xc0001669a0 0xc0001669c0]})
          %!s(*ast.CommentGroup=&{[0xc000166c00]})
          %!s(*ast.CommentGroup=&{[0xc000166ec0]})
          %!s(*ast.CommentGroup=&{[0xc000167500]})
          %!s(*ast.CommentGroup=&{[0xc000167740]})
          %!s(*ast.CommentGroup=&{[0xc000167940]})
          %!s(*ast.CommentGroup=&{[0xc000167c00]})
          %!s(*ast.CommentGroup=&{[0xc000167f80]})
          %!s(*ast.CommentGroup=&{[0xc0001680c0]})
          %!s(*ast.CommentGroup=&{[0xc0001682c0]})
          %!s(*ast.CommentGroup=&{[0xc0001687a0 0xc0001687c0]})
          %!s(*ast.CommentGroup=&{[0xc000168b00 0xc000168b20]})
          %!s(*ast.CommentGroup=&{[0xc000168c40]})
          %!s(*ast.CommentGroup=&{[0xc000169620]})
          %!s(*ast.CommentGroup=&{[0xc000169800]})
          %!s(*ast.CommentGroup=&{[0xc0001699e0]})
          %!s(*ast.CommentGroup=&{[0xc000169d00 0xc000169d20]})
          %!s(*ast.CommentGroup=&{[0xc00016e1c0]})]}
#+END_SRC


* unsorted

–ö–æ–≤—ã—Ä—è—Ç—å —Å–ª–æ—Ç—ã

/home/rigidus/go/src/github.com/insolar/assured-ledger/ledger-core/v2/logicrunner/preprocessor/main.go
/home/rigidus/go/src/github.com/insolar/assured-ledger/ledger-core/v2/application/builtin/contract/account/account.go
/home/rigidus/go/src/github.com/insolar/assured-ledger/ledger-core/v2/application/builtin/contract/account/account.wrapper.go
/home/rigidus/go/src/github.com/insolar/assured-ledger/ledger-core/v2/application/builtin/proxy/account

Ruslan Zakirov Today at 3:59 PM
@kirill.ivkushkin –∑–∞—á–µ–º –º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–¥–µ–ª—è–µ–º VM –æ—Ç MN? —Å–∫–æ—Ä–æ—Å—Ç—å? –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å? –∑–∞—á–µ–º –Ω–∞–º –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –í–ú–∫–∏ —Ö–æ–¥–∏–ª–∏ –∫ –¥—Ä—É–≥—É-–¥—Ä—É–≥—É –∑–∞ —Å—Ç–µ–π—Ç–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?
5 replies
Kirill Ivkushkin  21 hours ago
—á—Ç–æ–±—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ CPU –Ω–µ —É–ø–∏—Ä–∞–ª–æ—Å—å –≤ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∑–∞–ø–∏—Å–∏
Kirill Ivkushkin  21 hours ago
LMN—ã –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏, –∞ VN—ã –¥–ª—è
–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º
Ruslan Zakirov  21 hours ago
–≤–µ–¥—å –≤—Å–µ —Ä–∞–≤–Ω–æ —É–ø—Ä–µ—Ç—Å—è. –º—ã –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ VN/MN —É–≤–µ–ª–∏—á–∏—Ç—å, —Ç–∞–∫? (edited)
Kirill Ivkushkin  21 hours ago
(1) —É –Ω–∞—Å –±—É–¥–µ—Ç –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤, –∫ –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –º–Ω–æ–≥–æ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö immutable calls - –¥–∞, —Ç—É—Ç –±—É–¥–µ—Ç –¥–æ–ø –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ LM –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ, —Ç.–∫. –æ–Ω–∏ –Ω–µ –≤—ã–¥–∞—é—Ç state
(2) –∏ –µ—Å–ª–∏ –±—É–¥–µ–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å "–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ" (—Ç.–µ. –Ω–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã–µ immutable) –∑–∞–ø—Ä–æ—Å—ã, —Ç–æ —Ç—É—Ç –≤–æ–æ–±—â–µ –Ω–µ –±—É–¥–µ—Ç –≤–ª–∏—è–Ω–∏—è –Ω–∞ LM–∫–∏
(3) –∞ —É—á–∏—Ç—ã–≤–∞—è "stateless" —Ö–∞—Ä–∞–∫—Ç–µ—Ä VN–æ–∫, —Ç–æ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª-–≤–æ VN (edited)
Kirill Ivkushkin  21 hours ago
–Ω—É –∞ –º–Ω–æ–≥–æ immutable'–æ–≤ –µ—Å—Ç—å –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ ...
